{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./App.css';import shipLogo from'./ship.png';// Import the ship logo image\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[cargoData,setCargoData]=useState([]);const[unloadingAreas,setUnloadingAreas]=useState([]);const[urgentCargo,setUrgentCargo]=useState(null);const areaNumbers=[1,2,3,4];// Define the area numbers you want to fetch data for\nuseEffect(()=>{// Fetch cargo data\nconst fetchCargoData=async()=>{try{const response=await axios.get('http://localhost:8080/shipments/not-arrived/eta');// Correct API\nsetCargoData(response.data);}catch(error){console.error('Error fetching cargo data:',error);}};// Fetch urgent cargo by priority\nconst fetchUrgentCargo=async()=>{try{const response=await axios.get('http://localhost:8080/shipments/not-arrived/priority');// Correct API\nsetUrgentCargo(response.data[0]);}catch(error){console.error('Error fetching urgent cargo:',error);}};// Fetch the current shipment for each unloading area\nconst fetchUnloadingAreaData=async areaNumber=>{try{const response=await axios.get(`http://localhost:8080/shipments/unloading-area/${areaNumber}/current-shipment`);// If a shipment is found, return the area details and shipment\nif(response.data){return{areaNumber,isFilled:true,shipment:response.data// Pass the shipment data directly\n};}else{// If no shipment found (area is empty), return as not filled\nreturn{areaNumber,isFilled:false,shipment:null// No shipment if not filled\n};}}catch(error){console.error(`Error fetching unloading area ${areaNumber}:`,error);// In case of error, return as empty\nreturn{areaNumber,isFilled:false,shipment:null};}};// Fetch data for all unloading areas\nconst fetchAllUnloadingAreas=async()=>{const areaDataPromises=areaNumbers.map(areaNumber=>fetchUnloadingAreaData(areaNumber));const areasData=await Promise.all(areaDataPromises);setUnloadingAreas(areasData);};// Fetch all data on component mount\nfetchCargoData();fetchUrgentCargo();fetchAllUnloadingAreas();// Refresh every 10 minutes\nconst interval=setInterval(()=>{fetchCargoData();fetchUrgentCargo();fetchAllUnloadingAreas();},600000);// 10 minutes in milliseconds\nreturn()=>clearInterval(interval);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"all-cargos\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"All Incoming Cargos\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ETA\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Unloading Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Emergency\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:cargoData.map(cargo=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:cargo.shipmentId}),/*#__PURE__*/_jsx(\"td\",{children:cargo.eta}),/*#__PURE__*/_jsx(\"td\",{children:cargo.cargoType}),/*#__PURE__*/_jsxs(\"td\",{children:[cargo.estimatedUnloadingTime,\" mins\"]}),/*#__PURE__*/_jsx(\"td\",{children:cargo.urgency===2?'Yes':'No'})]},cargo.shipmentId))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"incoming-cargo\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Incoming Cargo\"}),urgentCargo&&/*#__PURE__*/_jsxs(\"div\",{className:\"cargo-info\",children:[/*#__PURE__*/_jsx(\"img\",{src:shipLogo,alt:\"Ship Logo\",className:\"ship-logo\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ID:\"}),\" \",urgentCargo.shipmentId]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ETA:\"}),\" \",urgentCargo.eta]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"unloading-areas\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Unloading Areas\"}),/*#__PURE__*/_jsx(\"div\",{className:\"areas-row\",children:unloadingAreas.map(area=>/*#__PURE__*/_jsxs(\"div\",{className:`area ${area.isFilled?'busy':'free'}`,children:[/*#__PURE__*/_jsx(\"p\",{children:`Area ${area.areaNumber}`}),area.isFilled&&area.shipment&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:shipLogo,alt:\"Ship\",className:\"ship-logo\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"cargo-id\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Cargo ID:\"}),\" \",area.shipment.shipmentId]}),/*#__PURE__*/_jsxs(\"p\",{className:\"start-time\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Start:\"}),\" \",new Date(area.shipment.eta).toLocaleString()]}),/*#__PURE__*/_jsxs(\"p\",{className:\"end-time\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"End:\"}),\" \",new Date(area.shipment.estimatedLeavingTime).toLocaleString()]})]})]},area.areaNumber))})]})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","axios","shipLogo","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","cargoData","setCargoData","unloadingAreas","setUnloadingAreas","urgentCargo","setUrgentCargo","areaNumbers","fetchCargoData","response","get","data","error","console","fetchUrgentCargo","fetchUnloadingAreaData","areaNumber","isFilled","shipment","fetchAllUnloadingAreas","areaDataPromises","map","areasData","Promise","all","interval","setInterval","clearInterval","className","children","cargo","shipmentId","eta","cargoType","estimatedUnloadingTime","urgency","src","alt","area","Date","toLocaleString","estimatedLeavingTime"],"sources":["C:/Users/User/OneDrive/Y2S1/PSA/404BrainNotFound/my_app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport shipLogo from './ship.png';  // Import the ship logo image\n\nfunction App() {\n  const [cargoData, setCargoData] = useState([]);\n  const [unloadingAreas, setUnloadingAreas] = useState([]);\n  const [urgentCargo, setUrgentCargo] = useState(null);\n  const areaNumbers = [1, 2, 3, 4];  // Define the area numbers you want to fetch data for\n\n  useEffect(() => {\n    // Fetch cargo data\n    const fetchCargoData = async () => {\n      try {\n        const response = await axios.get('http://localhost:8080/shipments/not-arrived/eta');  // Correct API\n        setCargoData(response.data);\n      } catch (error) {\n        console.error('Error fetching cargo data:', error);\n      }\n    };\n\n    // Fetch urgent cargo by priority\n    const fetchUrgentCargo = async () => {\n      try {\n        const response = await axios.get('http://localhost:8080/shipments/not-arrived/priority');  // Correct API\n        setUrgentCargo(response.data[0]);\n      } catch (error) {\n        console.error('Error fetching urgent cargo:', error);\n      }\n    };\n\n    // Fetch the current shipment for each unloading area\n    const fetchUnloadingAreaData = async (areaNumber) => {\n      try {\n        const response = await axios.get(`http://localhost:8080/shipments/unloading-area/${areaNumber}/current-shipment`);\n        \n        // If a shipment is found, return the area details and shipment\n        if (response.data) {\n          return {\n            areaNumber,\n            isFilled: true,\n            shipment: response.data, // Pass the shipment data directly\n          };\n        } else {\n          // If no shipment found (area is empty), return as not filled\n          return {\n            areaNumber,\n            isFilled: false,\n            shipment: null,  // No shipment if not filled\n          };\n        }\n      } catch (error) {\n        console.error(`Error fetching unloading area ${areaNumber}:`, error);\n        // In case of error, return as empty\n        return {\n          areaNumber,\n          isFilled: false,\n          shipment: null,\n        };\n      }\n    };\n\n    // Fetch data for all unloading areas\n    const fetchAllUnloadingAreas = async () => {\n      const areaDataPromises = areaNumbers.map((areaNumber) => fetchUnloadingAreaData(areaNumber));\n      const areasData = await Promise.all(areaDataPromises);\n      setUnloadingAreas(areasData);\n    };\n\n    // Fetch all data on component mount\n    fetchCargoData();\n    fetchUrgentCargo();\n    fetchAllUnloadingAreas();\n\n    // Refresh every 10 minutes\n    const interval = setInterval(() => {\n      fetchCargoData();\n      fetchUrgentCargo();\n      fetchAllUnloadingAreas();\n    }, 600000);  // 10 minutes in milliseconds\n\n    return () => clearInterval(interval);\n  }, []);\n\n  return (\n    <div className=\"dashboard\">\n      {/* All Incoming Cargos */}\n      <div className=\"all-cargos\">\n        <h2>All Incoming Cargos</h2>\n        <table>\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>ETA</th>\n              <th>Type</th>\n              <th>Unloading Time</th>\n              <th>Emergency</th>\n            </tr>\n          </thead>\n          <tbody>\n            {cargoData.map((cargo) => (\n              <tr key={cargo.shipmentId}>\n                <td>{cargo.shipmentId}</td>\n                <td>{cargo.eta}</td>\n                <td>{cargo.cargoType}</td>\n                <td>{cargo.estimatedUnloadingTime} mins</td>\n                <td>{cargo.urgency === 2 ? 'Yes' : 'No'}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {/* Incoming Cargo */}\n      <div className=\"right-panel\">\n        <div className=\"incoming-cargo\">\n          <h2>Incoming Cargo</h2>\n          {urgentCargo && (\n            <div className=\"cargo-info\">\n              <img src={shipLogo} alt=\"Ship Logo\" className=\"ship-logo\" />\n              <div>\n                <p><strong>ID:</strong> {urgentCargo.shipmentId}</p>\n                <p><strong>ETA:</strong> {urgentCargo.eta}</p>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Unloading Areas */}\n        <div className=\"unloading-areas\">\n  <h2>Unloading Areas</h2>\n  <div className=\"areas-row\">\n    {unloadingAreas.map((area) => (\n      <div key={area.areaNumber} className={`area ${area.isFilled ? 'busy' : 'free'}`}>\n        <p>{`Area ${area.areaNumber}`}</p>\n        {area.isFilled && area.shipment && (\n          <>\n            <img src={shipLogo} alt=\"Ship\" className=\"ship-logo\" />\n            <p className=\"cargo-id\"><strong>Cargo ID:</strong> {area.shipment.shipmentId}</p>\n            <p className=\"start-time\"><strong>Start:</strong> {new Date(area.shipment.eta).toLocaleString()}</p>\n            <p className=\"end-time\"><strong>End:</strong> {new Date(area.shipment.estimatedLeavingTime).toLocaleString()}</p>\n          </>\n        )}\n      </div>\n    ))}\n  </div>\n</div>\n\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}